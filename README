Module: pdxcat-amanda

Example usage:

  class { "amanda::server":
    configs => [ "rolling", "archive" ],
    owner   => "amanda",
    group   => "amanda",
  }

If more specificity required:

  file { "/etc/amanda":
    ensure => directory;
  }

  amanda::config { "rolling":
    ensure  => "present",
    confdir => "/etc/amanda";
  }

Then place your config files in the "files" directory of the module,
in one of:

  amanda/files/<fqdn>/<config>/*
  amanda/files/default/<config>/*

The contents of the config directory will be synced to the confdir you
specify in the amanda::config resource. If you want to keep your config
files in a seperate puppet module, then specify the module when you
declare the server class:

  class { "amanda::server":
    configs       => [ "rolling", "archive" ],
    owner         => "amanda",
    group         => "amanda",
    confsrcmodule => "secrets",
    confsrcroot   => "amanda",
  }

In this example, config files will be pulled from the files/amanda
directory of the "secrets" module. e.g.
puppet:///modules/secrets/amanda/defaults

Regardless of whether you are placing your config files in the amanda
module directly or using a seperate module, the search path of 
[<fqdn>, "default"] will still be used in the confsrcroot.
